<div class="t-pro-operations">
  <ti-searchbox class="t-pro-header-search" (search)="onSearch($event)"
    [placeholder]="'header.searchPlaceholder' | translate"></ti-searchbox>
  <a tiNavigation [href]="helpCenter" target="_blank" rel="noopener noreferrer" class="help-center">
    <span *ngIf="!shrink">{{ 'header.helpCenter' | translate }}</span>
  </a>

  <!-- 语言切换 -->
  <div class="t-pro-language-wrapper" tProBaseDropDown [trigger]="'hover'" appendToBody tProBaseDropDownToggle>
    <span *ngIf="!shrink">{{ curLang }}</span>
    <ul tProBaseDropDownMenu class="t-pro-dropdown-menu t-pro-scrollbar item-width" role="menu">
      <li *ngFor="let item of languages" role="menuitem" class="menu-item"
        [ngClass]="{ 't-pro-active-lang': language === item.code }" (click)="onLanguageClick(item.code)">
        <a class="t-pro-base-dropdown-item">
          <span class="t-pro-language-prefix">{{ item.prefix }}</span>
          &nbsp;
          {{ item.lang }}
        </a>
      </li>
    </ul>
  </div>

  <!-- 个人中心 -->
  <div class="t-pro-operations-user" tProBaseDropDown [trigger]="'hover'" appendToBody tProBaseDropDownToggle>
    <t-pro-base-avatar *ngIf="shrink" [name]="user.userName" [width]="18" [height]="18"></t-pro-base-avatar>
    <span class="t-pro-user-name">{{ user?.userName }}</span>
    <ul tProBaseDropDownMenu class="t-pro-dropdown-menu t-pro-scrollbar item-width" role="menu">
      <ng-container *ngIf="haveLoggedIn">
        <li role="menuitem">
          <a class="t-pro-base-dropdown-item">
            <span>{{ 'header.basicInfo' | translate }}</span>
            &nbsp;&nbsp;&nbsp;
            <span class="authenticated">{{ 'header.authenticated' | translate }}</span>
          </a>
        </li>
        <li role="menuitem" (click)="handleUserOps('logout')">
          <a class="t-pro-base-dropdown-item">
            <span class="logout">{{ 'header.logout' | translate }}</span>
          </a>
        </li>
      </ng-container>
    </ul>
  </div>

  <div class="t-pro-operations-notice" tProBaseDropDown [trigger]="'click'" tProBaseDropDownToggle appendToBody
    [closeScope]="'blank'">
    <t-pro-base-badge [count]="noticeCount">
      <ti-icon local name="document"></ti-icon>
    </t-pro-base-badge>
  </div>
</div>
